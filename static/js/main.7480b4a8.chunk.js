(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{20:function(t,e,n){},28:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(8),i=n.n(o),c=(n(20),n(3)),s=n(4),p=n(6),l=n(5),u=(n(21),n(9)),h=n(2);var d=Object(h.a)("div",{target:"e19atvrw4"})({name:"1ssw7nl",styles:"top:0;left:0;position:sticky;z-index:1100;display:flex;justify-content:center;align-items:center;min-height:64px;padding-right:24px;padding-left:24px;padding-top:12px;padding-bottom:12px;color:#fff;background-color:#3f51b5;box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0, 0, 0, 0.12)"}),b=Object(h.a)("form",{target:"e19atvrw3"})({name:"kbgsnr",styles:"display:flex;align-items:center;width:100%;max-width:600px;background-color:#fff;border-radius:3px;overflow:hidden"}),g=Object(h.a)("button",{target:"e19atvrw2"})({name:"1a3m8tj",styles:"display:inline-block;width:48px;height:48px;border:0;background-image:url('https://image.flaticon.com/icons/svg/149/149852.svg');background-size:40%;background-repeat:no-repeat;background-position:center;opacity:0.6;transition:opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;outline:none;&:hover{opacity:1;}"}),x=Object(h.a)("span",{target:"e19atvrw1"})({name:"jnnlmv",styles:"position:absolute;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;clip-path:inset(50%);border:0"}),f=Object(h.a)("input",{target:"e19atvrw0"})({name:"g6sr3k",styles:"display:inline-block;width:100%;font:inherit;font-size:20px;border:none;outline:none;padding-left:4px;padding-right:4px;&::placeholder{font:inherit;font-size:18px;}"}),m=n(1),j=function(t){Object(p.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={query:""},t.handleNameChange=function(e){t.setState({query:e.currentTarget.value})},t.handleSubmit=function(e){if(e.preventDefault(),""===t.state.query.trim())return u.b.warning("Please enter something!");t.props.onSubmit(t.state.query),t.setState({query:""})},t}return Object(s.a)(n,[{key:"render",value:function(){return Object(m.jsx)(d,{children:Object(m.jsxs)(b,{onSubmit:this.handleSubmit,children:[Object(m.jsx)(g,{type:"submit",children:Object(m.jsx)(x,{children:"Search"})}),Object(m.jsx)(f,{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:this.state.query,onChange:this.handleNameChange})]})})}}]),n}(a.Component),y=n(11),v=n.n(y),O=n(14),w=n(12);var k=Object(h.a)("div",{target:"e1lekqbj1"})({name:"8i9ttg",styles:"position:fixed;top:0;left:0;width:100vw;height:100vh;display:flex;justify-content:center;align-items:center;background-color:rgba(0, 0, 0, 0.8);z-index:1200"}),C=Object(h.a)("div",{target:"e1lekqbj0"})({name:"sve88p",styles:"max-width:calc(100vw - 48px);max-height:calc(100vh - 24px)"}),S=function(t){Object(p.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).handleKeyDown=function(e){"Escape"===e.code&&t.props.onClose()},t.handleOrelayClick=function(e){e.currentTarget===e.target&&t.props.onClose()},t}return Object(s.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(m.jsx)(k,{onClick:this.handleOrelayClick,children:Object(m.jsx)(C,{children:this.props.children})})}}]),n}(a.Component);var P={fetchPixabay:function(t,e){return console.log(t),fetch("".concat("https://pixabay.com/api/","?image_type=photo&orientation=horizontal&q=").concat(t,"&page=").concat(e,"&per_page=12&key=").concat("21764210-8d882ab68fe5176a0369b7247")).then((function(t){return t.ok?t.json():Promise.reject(new Error(console.log("\u0423\u043f\u0441, \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a")))}))}},z=n(7),q=n.n(z);var L=Object(h.a)("li",{target:"e1ret3ds1"})({name:"ia8atm",styles:"border-radius:2px;box-shadow:0px 1px 3px 0px rgba(0, 0, 0, 0.2),0px 1px 1px 0px rgba(0, 0, 0, 0.14),0px 2px 1px -1px rgba(0, 0, 0, 0.12)"}),M=Object(h.a)("img",{target:"e1ret3ds0"})({name:"1plt1o8",styles:"width:100%;height:260px;object-fit:cover;transition:transform 250ms cubic-bezier(0.4, 0, 0.2, 1);&:hover{transform:scale(1.03);cursor:zoom-in;}"}),N=function(t){Object(p.a)(n,t);var e=Object(l.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var t=this;return Object(m.jsx)(L,{children:Object(m.jsx)(M,{src:this.props.src,alt:this.props.alt,url:this.props.url,onClick:function(){return t.props.onOpen(t.props.url,t.props.alt)}})})}}]),n}(a.Component);N.propTyes={src:q.a.string,alt:q.a.string,url:q.a.string,onClick:q.a.func.isRequired};var D=n(15);var E=Object(h.a)("div",{target:"eda5sjq0"})({name:"96v75p",styles:"display:flex;align-items:center;margin-left:40%;font-size:24px"});function T(){return Object(m.jsxs)(E,{children:[Object(m.jsx)(D.a,{className:"icon-spin"}),"Loading..."]})}var A=Object(h.a)("button",{target:"e7cvmpk0"})({name:"15rmmlx",styles:"margin:20px 60% 0 40%;padding:8px 16px;border-radius:2px;background-color:#3f51b5;transition:all 250ms cubic-bezier(0.4, 0, 0.2, 1);text-align:center;display:inline-block;color:#fff;border:0;text-decoration:none;cursor:pointer;font-family:inherit;font-size:18px;line-height:24px;font-style:normal;font-weight:500;min-width:180px;box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2),0px 2px 2px 0px rgba(0, 0, 0, 0.14),0px 1px 5px 0px rgba(0, 0, 0, 0.12);&:hover,:focus{background-color:#303f9f;}"}),Q=function(t){Object(p.a)(n,t);var e=Object(l.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(m.jsx)(A,{onClick:this.props.onClick,type:"button",children:"Load more"})}}]),n}(a.Component);var U=Object(h.a)("ul",{target:"e17guvd1"})({name:"1bhb8yv",styles:"display:grid;max-width:calc(100vw - 48px);grid-template-columns:repeat(auto-fill, minmax(320px, 1fr));grid-gap:16px;margin-top:0;margin-bottom:0;padding:0;list-style:none;margin-left:auto;margin-right:auto"}),F=Object(h.a)("p",{target:"e17guvd0"})({name:"1yn06u7",styles:"font-size:24px;color:red;text-align:center"}),K="idle",R="pending",I="resolved",J="rejected",_=function(t){Object(p.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={photo:[],error:null,page:1,status:K,showModal:!1,imgLarge:{url:"",alt:""}},t.fetchPixabayPhoto=function(){P.fetchPixabay(t.props.photoQuery,t.state.page).then((function(e){var n=e.hits;if(0===n.length)return t.setState({status:J});t.setState((function(e){return{photo:[].concat(Object(w.a)(e.photo),Object(w.a)(n)),status:I,page:t.state.page+1}}))})).catch((function(e){return t.setState({error:e,status:J})}))},t.scroll=function(){setTimeout((function(){window.scrollTo({top:document.documentElement.scrollHeight,left:0,behavior:"smooth"})}),1e3)},t.incrementPage=function(){t.setState((function(t){return{page:t.page+1}}))},t.handelPhotoClick=function(e,n){t.setState({imgLarge:{url:e,alt:n}}),t.setState((function(t){return{showModal:!t.showModal}}))},t}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(){var t=Object(O.a)(v.a.mark((function t(e){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.props.photoQuery,e.photoQuery===n){t.next=7;break}return t.next=5,this.setState({page:1,photo:[]});case 5:this.setState({status:R}),this.fetchPixabayPhoto(n);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.state.status,n=this.state.imgLarge,a=n.url,r=n.alt;return"idle"===e?Object(m.jsx)("div",{}):"pending"===e?Object(m.jsx)(T,{}):"rejected"===e?Object(m.jsx)(F,{children:"Oops! Nothing found"}):"resolved"===e?Object(m.jsxs)("div",{children:[Object(m.jsx)(U,{children:this.state.photo.map((function(e){return Object(m.jsx)(N,{src:e.webformatURL,alt:e.tags,url:e.largeImageURL,onOpen:t.handelPhotoClick},e.id)}))}),this.state.photo.length>=12&&Object(m.jsx)(Q,{onClick:function(e){t.fetchPixabayPhoto(),t.incrementPage(),t.scroll()}}),this.state.showModal&&Object(m.jsx)(S,{onClose:function(){t.setState((function(t){return{showModal:!t.showModal}}))},children:Object(m.jsx)("img",{src:a,alt:r})})]}):void 0}}]),n}(a.Component);var B=Object(h.a)("div",{target:"e1cv1utf0"})({name:"kyj7j7",styles:"display:grid;grid-template-columns:1fr;grid-gap:16px;padding-bottom:24px"}),H=function(t){Object(p.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={photoName:""},t.handelFormSubmit=function(e){t.setState({photoName:e}),console.log(e)},t}return Object(s.a)(n,[{key:"render",value:function(){return Object(m.jsxs)(B,{children:[Object(m.jsx)(j,{onSubmit:this.handelFormSubmit}),Object(m.jsx)(_,{photoQuery:this.state.photoName}),Object(m.jsx)(u.a,{})]})}}]),n}(a.Component);i.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(H,{})}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.7480b4a8.chunk.js.map